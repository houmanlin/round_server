<template>
  <el-row type="flex" align="middle" class="search_container">
    <!--  名称查询输入框  -->
    <el-col :span="4"><el-input v-model="operator" placeholder="请输入操作员名称"></el-input></el-col>
    <!--  操作时间选择  -->
    <el-col :span="4" :offset="1">
      <el-date-picker
        v-model="operator_date"
        type="datetime"
        placeholder="操作时间">
      </el-date-picker>
    </el-col>
    <!--  操作类型  -->
    <el-col :span="4" :offset="1">
      <el-select filterable v-model="operator_type" placeholder="请选择操作类型">
        <el-option
            v-for="item in operator_type_list"
            :key="item.value"
            :label="item.label"
            :value="item.value">
        </el-option>
      </el-select>
    </el-col>

    <!--    -->
    <el-col :span="6" :offset="1">
      <el-button type="primary" @click="selectData">查询</el-button>
      <el-button type="primary" @click="resetData">重置</el-button>
    </el-col>
  </el-row>
</template>

<script>
import {SYSTEM_LOG_STATUS_GROUP} from "@/config/selectData";

export default {
  name: "searchComponents",
  data(){
    return{
      operator            : "",                   // 操作员
      operator_date       : "",                   // 操作时间
      operator_type       : "",                   // 操作类型
      operator_type_list  : SYSTEM_LOG_STATUS_GROUP,     // 操作类型列表
    }
  },
  methods:{
    selectData(){
      let date = new Date(this.operator_date);
      let year = date.getFullYear();
      let mouth = parseInt(date.getMonth())+1;
      let day = date.getDate();
      this.$emit("getSelectData", {
        operator            : this.operator,                // 操作员
        operator_date       : !this.operator_date ? '' :`${year}-${mouth}-${day}`,    // 操作时间
        operator_type       : this.operator_type,           // 操作类型
      })
    },
    resetData(){
          this.operator            = "";                   // 操作员
          this.operator_date       = "";                   // 操作时间
          this.operator_type       = "";                   // 操作类型
      this.$emit("getSelectData", {
        operator            : this.operator,                // 操作员
        operator_date       : !this.operator_date ? '' :`${year}-${mouth}-${day}`,    // 操作时间
        operator_type       : this.operator_type,           // 操作类型
      })
    }
  }
}
</script>

<style scoped>
  .search_container{
    margin: 20px 0;
  }
</style>
